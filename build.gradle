apply plugin: 'java'
apply plugin: 'application'
apply plugin: 'eclipse'

repositories {
	jcenter()
}

dependencies {
	compile 'commons-cli:commons-cli:1.4'
	compile 'org.slf4j:slf4j-log4j12:1.7.25'
	
	testCompile 'junit:junit:4.12'
}

mainClassName = 'io.github.chatzikalymnios.lfdsbenchmarker.App'

run {
	doFirst {
		systemProperties System.getProperties()
		
		if (project.hasProperty("args")) {
			args project.getProperty("args").split()
		}
	}
}

task debug {
	doFirst {
		System.setProperty("log4j.configuration", "log4j-debug.properties")
	}
}

debug.finalizedBy run

test {
	testLogging {
		events "passed", "skipped", "failed"
	}
}
